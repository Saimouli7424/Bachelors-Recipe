<% if(recipe != null ) { %>

    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page"><%- recipe.name %></li>
      </ol>
    </nav>
  
  
    <div class="row">
  
      <div class="col-12 col-md-4">
        <img src="/uploads/<%- recipe.image %>" class="img-fluid sticky-top" style="top: 20px;" alt="<%- recipe.name %>" loading="lazy">
      </div>
  
      <div class="col-12 col-md-8">
        <div class="row">
          <!-- Recipe Name and Share Button Side by Side -->
          <div class="col-8">
            <h1><%- recipe.name %></h1>
          </div>
          <div class="col-4 d-flex justify-content-end">
              <img onclick="shareUrl()" src="/img/share-removebg-preview.png" alt="Share" style="height: 50px; width: 50px;">
          </div>
          <!-- End Recipe Name and Share Button -->

          <div class="col-12 mb-3"><i class="bi bi-tag"></i> <%- recipe.category %></div>
          <div class="col-12" style="white-space: pre-line;">
            <h4>Cooking Instructions</h4>
            <%- recipe.description %>
          </div>
        </div>
  
        <div class="row pt-4">
          <div class="col-12">
            <h4>Ingredients</h4>
            <ul class="list-group list-group-flush">
              <% recipe.ingredients.forEach(function(ingredients, index){ %>
                <li class="list-group-item"><%= ingredients %></li>
              <% }) %>
            </ul> 
          </div>
        </div>
      </div>
    </div>

  <% } else { %>
    <p>No item found.</p>
  <% } %>

  <!-- JavaScript for Share Button -->
<script>
  function shareUrl() {
    var url = window.location.href;
    navigator.clipboard.writeText(url).then(function() {
      alert('Recipe URL copied to clipboard!');
    }, function(err) {
      console.error('Failed to copy recipe URL: ', err);
    });
  }
  </script>